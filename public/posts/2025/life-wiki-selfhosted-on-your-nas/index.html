<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Life Wiki Selfhosted on Your NAS | iHelio</title>
<meta name=keywords content="NAS,Selfhosted,Wiki,Docker"><meta name=description content="
Introduction
I used Notion for a couple of years and found it to be one of the best tools for note-taking and building a personal wiki. Why did I stop using it? It wasn&rsquo;t about the cost—Notion&rsquo;s freemium plan is perfectly sufficient for personal use. Instead, there were two main issues that drove me away.
First, typing math equations in Notion is cumbersome because you have to use a dedicated &ldquo;Block&rdquo; for them. Second, it&rsquo;s difficult to export or migrate your data to other platforms, which, while not entirely Notion&rsquo;s fault, still concerns me. Most importantly, I realized I should make better use of my Synology NAS. That&rsquo;s why I decided to explore open-source, self-hosted alternatives."><meta name=author content="Me"><link rel=canonical href=ihelio.today/posts/2025/life-wiki-selfhosted-on-your-nas/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=ihelio.today/assets/css/stylesheet.d6fcd20a4fb86efa4dfac8ec95da60244cc8871042183da1ef28e3a762ad79c8.css integrity="sha256-1vzSCk+4bvpN+sjsldpgJEzIhxBCGD2h7yjjp2Ktecg=" rel="preload stylesheet" as=style><link rel=icon href=ihelio.today/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=ihelio.today/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=ihelio.today/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=ihelio.today/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=ihelio.today/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=ihelio.today/posts/2025/life-wiki-selfhosted-on-your-nas/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-R4SSGN5Y2Z"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-R4SSGN5Y2Z")}</script><meta property="og:url" content="ihelio.today/posts/2025/life-wiki-selfhosted-on-your-nas/"><meta property="og:site_name" content="iHelio"><meta property="og:title" content="Life Wiki Selfhosted on Your NAS"><meta property="og:description" content=" Introduction I used Notion for a couple of years and found it to be one of the best tools for note-taking and building a personal wiki. Why did I stop using it? It wasn’t about the cost—Notion’s freemium plan is perfectly sufficient for personal use. Instead, there were two main issues that drove me away.
First, typing math equations in Notion is cumbersome because you have to use a dedicated “Block” for them. Second, it’s difficult to export or migrate your data to other platforms, which, while not entirely Notion’s fault, still concerns me. Most importantly, I realized I should make better use of my Synology NAS. That’s why I decided to explore open-source, self-hosted alternatives."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-01-10T00:28:28-05:00"><meta property="article:modified_time" content="2025-01-10T00:28:28-05:00"><meta property="article:tag" content="NAS"><meta property="article:tag" content="Selfhosted"><meta property="article:tag" content="Wiki"><meta property="article:tag" content="Docker"><meta property="og:image" content="ihelio.today/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="ihelio.today/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Life Wiki Selfhosted on Your NAS"><meta name=twitter:description content="
Introduction
I used Notion for a couple of years and found it to be one of the best tools for note-taking and building a personal wiki. Why did I stop using it? It wasn&rsquo;t about the cost—Notion&rsquo;s freemium plan is perfectly sufficient for personal use. Instead, there were two main issues that drove me away.
First, typing math equations in Notion is cumbersome because you have to use a dedicated &ldquo;Block&rdquo; for them. Second, it&rsquo;s difficult to export or migrate your data to other platforms, which, while not entirely Notion&rsquo;s fault, still concerns me. Most importantly, I realized I should make better use of my Synology NAS. That&rsquo;s why I decided to explore open-source, self-hosted alternatives."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"ihelio.today/posts/"},{"@type":"ListItem","position":2,"name":"Life Wiki Selfhosted on Your NAS","item":"ihelio.today/posts/2025/life-wiki-selfhosted-on-your-nas/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Life Wiki Selfhosted on Your NAS","name":"Life Wiki Selfhosted on Your NAS","description":" Introduction I used Notion for a couple of years and found it to be one of the best tools for note-taking and building a personal wiki. Why did I stop using it? It wasn\u0026rsquo;t about the cost—Notion\u0026rsquo;s freemium plan is perfectly sufficient for personal use. Instead, there were two main issues that drove me away.\nFirst, typing math equations in Notion is cumbersome because you have to use a dedicated \u0026ldquo;Block\u0026rdquo; for them. Second, it\u0026rsquo;s difficult to export or migrate your data to other platforms, which, while not entirely Notion\u0026rsquo;s fault, still concerns me. Most importantly, I realized I should make better use of my Synology NAS. That\u0026rsquo;s why I decided to explore open-source, self-hosted alternatives.\n","keywords":["NAS","Selfhosted","Wiki","Docker"],"articleBody":" Introduction I used Notion for a couple of years and found it to be one of the best tools for note-taking and building a personal wiki. Why did I stop using it? It wasn’t about the cost—Notion’s freemium plan is perfectly sufficient for personal use. Instead, there were two main issues that drove me away.\nFirst, typing math equations in Notion is cumbersome because you have to use a dedicated “Block” for them. Second, it’s difficult to export or migrate your data to other platforms, which, while not entirely Notion’s fault, still concerns me. Most importantly, I realized I should make better use of my Synology NAS. That’s why I decided to explore open-source, self-hosted alternatives.\nChoices To my surprise, there are more choices in the market than I could imagine in the beginning.\napp name collaboration cross platform self-hosted server browser app knowledge management selfhost score Silverbullets N Y Y Y ⭐⭐⭐ ⭐⭐⭐⭐⭐ StandardNotes N Y Y Y ⭐⭐⭐⭐⭐ ⭐ Siyuan N Y N N ⭐⭐⭐⭐⭐ ⭐ Bookstack N Y Y Y ⭐⭐⭐⭐ ⭐⭐⭐⭐⭐ Obsidian N Y N N ⭐⭐⭐⭐⭐ ⭐⭐⭐ LogSeq N Y N N ⭐⭐⭐⭐⭐ ⭐⭐⭐⭐⭐ Trilium N Y Y Y ⭐⭐⭐⭐⭐ ⭐⭐⭐⭐⭐ Joplin N Y Y N ⭐ ⭐⭐⭐⭐⭐ UseMemos N Y Y Y ⭐ ⭐⭐⭐⭐⭐ Wiki.js N Y Y Y ⭐⭐⭐⭐⭐ ⭐⭐⭐⭐⭐ Appflowy Y Y Y N ⭐⭐⭐⭐⭐ ⭐ Affine Y Y Y Y ⭐⭐⭐⭐⭐ ⭐⭐ AnyType Y Y Y N ⭐⭐⭐⭐⭐ ⭐⭐ Docmost Y Y Y Y ⭐⭐⭐⭐ ⭐⭐⭐⭐⭐ Outline Y Y Y Y ⭐⭐⭐⭐ ⭐⭐ I tested each self-hosted tool at a basic level to see if it met my needs. Two must-have features for me are collaboration and a lightweight browser-based interface. Lastly, I’m looking at how easy it is to self-host and how truly they are self-hosted. Here’s my shortlist:\nAffine – I ruled this out because it doesn’t feel truly open source or self-hosted. There are ongoing GitHub discussions about this point. Docmost – It seems promising, but the community is still at an early stage. Outline – I ended up selecting Outline because it provides all the features I need and has a strong community. However, hosting it wasn’t straightforward—it enforces a specific authentication process, which took me a couple of days to figure out. I also tried Appflowy and AnyType, both of which came close to meeting my requirements. However, Appflowy imposes many limitations on self-hosting, and AnyType is resource-heavy, requiring MongoDB, Minio, and multiple sync nodes. By contrast, Outline can simply use a local filesystem, which has worked very well for me so far.\nSelfhost Outline \u0026 Authenlia I chooses to use Authenlia as the authentication service for Outline as I need a lightweight solution given it will only be accessed by my family and again I can use the local filesystem to power Authenlia.\nAuthenlia To host Authenlia, we need create the configuration.yml:\nlog: level: info server: address: 'tcp://:9091/' session: name: authelia_session same_site: lax secret: \"redacted\" expiration: 3600 inactivity: 300 cookies: - domain: \"your.domain\" authelia_url: \"https://your.auth.domain\" default_redirection_url: \"https://www.your.outline.domain\" name: \"authelia_session\" same_site: \"lax\" inactivity: \"5m\" expiration: \"1h\" remember_me: \"1d\" access_control: default_policy: one_factor rules: [] storage: encryption_key: \"redacted\" local: path: /config/db.sqlite3 identity_providers: oidc: hmac_secret: \"redacted\" jwks: - key: {{ secret \"/config/private.pem\" | mindent 10 \"|\" | msquote }} clients: - id: \"unique client id\" description: \"Outline Wiki\" secret: \"redacted\" public: false authorization_policy: one_factor redirect_uris: - \"https://your.outline.domain/auth/oidc.callback\" scopes: - \"openid\" - \"offline_access\" - \"profile\" - \"email\" userinfo_signed_response_alg: \"none\" token_endpoint_auth_method: \"client_secret_post\" notifier: disable_startup_check: false filesystem: filename: \"/config/notification.txt\" authentication_backend: file: path: /config/user_database.yml identity_validation: reset_password: jwt_secret: \"redacted\" jwt_lifespan: \"5 minutes\" jwt_algorithm: \"HS256\" You could run openssl rand -hex 32 to generate the key for the redacted place above.\nYou also need create a hash of the password using docker run --rm -it authelia/authelia:latest authelia crypto hash generate argon2 which prompt for your password. After you have the hash, you could go ahead creating the user_database.yml file storing the login data:\nusers: admin: displayname: \"Foo Poo\" password: \"the hash generated from above command\" email: \"email\" groups: - admins - dev When you login, you need use admin as the user name and the password you typed in to generate the hash. It is not the password and email you used under admin stanza above. And you don’t have to create many users since Outline doesn’t support multiple workspaces in selfhosted version (discussions).\nThe last one is the jwks key we could generate with the command:\ndocker run --rm -v \"$(pwd)\":/output authelia/authelia:latest authelia crypto certificate rsa generate --directory /output which will generate private.pem and public.crt at present directory and we only need private.pem here.\nAfter we have all the files ready, we could create the docker-compose.yaml:\nservices: authelia: image: authelia/authelia:4.38 container_name: authelia restart: unless-stopped environment: - TZ=UTC - X_AUTHELIA_CONFIG_FILTERS=template ports: - \"9095:9091\" volumes: # this mounted folder should have all three files you just created: # configuration.yml, user_database.yaml and private.pem - '/your/folder/authelia/config:/config' Outline This is my docker-compose.yaml hosting Outline on my NAS:\nversion: \"3.7\" services: outline: image: outlinewiki/outline:0.81.1 # this is to give Outline container the permission to access the mounted folder, which could # be different for you. You could use `ls -nd` to check the UID and GID for a particular folder user: \"1026:100\" ports: - \"3002:3000\" depends_on: - postgres - redis volumes: - /yours/outline/storage:/var/lib/outline/data networks: - npm_network environment: NODE_ENV: production SECRET_KEY: \"key generated using openssl rand -hex 32\" UTILS_SECRET: \"key generated using openssl rand -hex 32\" # HTTP # URL must be the same one used in your authenlia configuration.yml URL: https://your.outline.domain PORT: 3000 FORCE_HTTPS: true WEB_CONCURRENCY: 1 # Rate limiter RATE_LIMITER_ENABLED: true RATE_LIMITER_DURATION_WINDOW: 60 RATE_LIMITER_REQUESTS: 600 # Authentication OIDC_CLIENT_ID: \"must be the same as the one used in authenlia\" OIDC_CLIENT_SECRET: \"must be the same as the one used in authenlia\" # The OIDC config can be found from https://your.auth.domain/.well-known/openid-configuration OIDC_AUTH_URI: https://your.auth.domain/api/oidc/authorization OIDC_TOKEN_URI: https://your.auth.domain/api/oidc/token OIDC_USERINFO_URI: https://your.auth.domain/api/oidc/userinfo OIDC_LOGOUT_URI: https://your.outline.domain OIDC_USERNAME_CLAIM: username OIDC_SCOPES: openid offline_access profile email # Storage FILE_STORAGE: local FILE_STORAGE_LOCAL_ROOT_DIR: /var/lib/outline/data FILE_STORAGE_UPLOAD_MAX_SIZE: 1086214400 # Database DATABASE_URL: postgres://user:pass@postgres:5432/outline PGSSLMODE: disable # Redis REDIS_URL: redis://redis:6379 # Other LOG_LEVEL: info ENABLE_UPDATES: true DEFAULT_LANGUAGE: en_US redis: image: redis:7.4.1 expose: - 6379 networks: - npm_network command: redis-server postgres: image: postgres:12.22 expose: - 5432 networks: - npm_network environment: POSTGRES_USER: user POSTGRES_PASSWORD: pass POSTGRES_DB: outline volumes: - /volume1/docker/outline/postgres:/var/lib/postgresql/data networks: # we need use bridge so Nginx could forward the traffic npm_network: driver: bridge This should get your Outline up and running and the last is to configure the proxy host at the NPM (aka. Nginx Proxy Manager) so we could access it from internet.\nNginx Proxy Manager You can easily create an SSL certificate with Let's Encrypt through Nginx Proxy Manager (NPM). When generating the certificate, make sure it includes both domains used to reach Outline and Authenlia (for example, your.outline.domain and your.auth.domain). You might also want to create a certificate for your top-level domain if needed. After that, simply create proxy hosts for each domain, ensuring they point to the correct internal addresses.\nUse http scheme for the destinations otherwise you prob will see 502 error. At least I have to use http scheme here and it will be secure since we enforce HTTPS on server side and use SSL cert for the connection.\nRegarding the destination address, I tried to use service:port since they are all on bridge network but unfortunately it doesn’t work for me. I have to use the nas-ip:host-port to access it. Finally, remember to forward ports 80 (HTTP) and 443 (HTTPS) from your router to NPM. This ensures all inbound web traffic is properly routed through Nginx Proxy Manager, allowing it to forward the traffic from internet.\nConclusion I recently migrated all my notes from Notion and Obsidian to Outline and couldn’t be happier so far. This document is the first I’ve created post-migration, and the experience has been smooth—especially Outline’s robust Markdown support for math equations. The one drawback I’ve noticed is the lack of a birds-eye view, which makes it cumbersome to manage numerous documents solely from the sidebar. Fortunately, there’s ongoing discussion about adding database support, which could help create a customized homepage and improve overall organization.\n","wordCount":"1338","inLanguage":"en","image":"ihelio.today/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E","datePublished":"2025-01-10T00:28:28-05:00","dateModified":"2025-01-10T00:28:28-05:00","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"ihelio.today/posts/2025/life-wiki-selfhosted-on-your-nas/"},"publisher":{"@type":"Organization","name":"iHelio","logo":{"@type":"ImageObject","url":"ihelio.today/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=ihelio.today/ accesskey=h title="Home (Alt + H)"><img src=/apple-touch-icon.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=ihelio.today/ihelio.today/archives/ title=Archive><span>Archive</span></a></li><li><a href=ihelio.today/ihelio.today/categories/ title=Categories><span>Categories</span></a></li><li><a href=ihelio.today/search/ title=Search><span>Search</span></a></li><li><a href=ihelio.today/ihelio.today/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=ihelio.today/>Home</a>&nbsp;»&nbsp;<a href=ihelio.today/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Life Wiki Selfhosted on Your NAS</h1><div class=post-meta><span title='2025-01-10 00:28:28 -0500 EST'>January 10, 2025</span>&nbsp;·&nbsp;7 min&nbsp;·&nbsp;1338 words&nbsp;·&nbsp;Me&nbsp;|&nbsp;<a href=https://github.com/ydeng11/ihelio/tree/main/content/posts/2025/life-wiki-selfhosted-on-your-nas.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=post-content><h1 id=heading><a hidden class=anchor aria-hidden=true href=#heading>#</a></h1><h1 id=introduction>Introduction<a hidden class=anchor aria-hidden=true href=#introduction>#</a></h1><p>I used Notion for a couple of years and found it to be one of the best tools for note-taking and building a personal wiki. Why did I stop using it? It wasn&rsquo;t about the cost—Notion&rsquo;s freemium plan is perfectly sufficient for personal use. Instead, there were two main issues that drove me away.</p><p>First, typing math equations in Notion is cumbersome because you have to use a dedicated &ldquo;Block&rdquo; for them. Second, it&rsquo;s difficult to export or migrate your data to other platforms, which, while not entirely Notion&rsquo;s fault, still concerns me. Most importantly, I realized I should make better use of my Synology NAS. That&rsquo;s why I decided to explore open-source, self-hosted alternatives.</p><h1 id=choices>Choices<a hidden class=anchor aria-hidden=true href=#choices>#</a></h1><p>To my surprise, there are more choices in the market than I could imagine in the beginning.</p><table><thead><tr><th><strong>app name</strong></th><th><strong>collaboration</strong></th><th><strong>cross platform</strong></th><th><strong>self-hosted server</strong></th><th><strong>browser app</strong></th><th><strong>knowledge management</strong></th><th><strong>selfhost score</strong></th></tr></thead><tbody><tr><td>Silverbullets</td><td>N</td><td>Y</td><td>Y</td><td>Y</td><td>⭐⭐⭐</td><td>⭐⭐⭐⭐⭐</td></tr><tr><td>StandardNotes</td><td>N</td><td>Y</td><td>Y</td><td>Y</td><td>⭐⭐⭐⭐⭐</td><td>⭐</td></tr><tr><td>Siyuan</td><td>N</td><td>Y</td><td>N</td><td>N</td><td>⭐⭐⭐⭐⭐</td><td>⭐</td></tr><tr><td>Bookstack</td><td>N</td><td>Y</td><td>Y</td><td>Y</td><td>⭐⭐⭐⭐</td><td>⭐⭐⭐⭐⭐</td></tr><tr><td>Obsidian</td><td>N</td><td>Y</td><td>N</td><td>N</td><td>⭐⭐⭐⭐⭐</td><td>⭐⭐⭐</td></tr><tr><td>LogSeq</td><td>N</td><td>Y</td><td>N</td><td>N</td><td>⭐⭐⭐⭐⭐</td><td>⭐⭐⭐⭐⭐</td></tr><tr><td>Trilium</td><td>N</td><td>Y</td><td>Y</td><td>Y</td><td>⭐⭐⭐⭐⭐</td><td>⭐⭐⭐⭐⭐</td></tr><tr><td>Joplin</td><td>N</td><td>Y</td><td>Y</td><td>N</td><td>⭐</td><td>⭐⭐⭐⭐⭐</td></tr><tr><td>UseMemos</td><td>N</td><td>Y</td><td>Y</td><td>Y</td><td>⭐</td><td>⭐⭐⭐⭐⭐</td></tr><tr><td>Wiki.js</td><td>N</td><td>Y</td><td>Y</td><td>Y</td><td>⭐⭐⭐⭐⭐</td><td>⭐⭐⭐⭐⭐</td></tr><tr><td>Appflowy</td><td>Y</td><td>Y</td><td>Y</td><td>N</td><td>⭐⭐⭐⭐⭐</td><td>⭐</td></tr><tr><td>Affine</td><td>Y</td><td>Y</td><td>Y</td><td>Y</td><td>⭐⭐⭐⭐⭐</td><td>⭐⭐</td></tr><tr><td>AnyType</td><td>Y</td><td>Y</td><td>Y</td><td>N</td><td>⭐⭐⭐⭐⭐</td><td>⭐⭐</td></tr><tr><td>Docmost</td><td>Y</td><td>Y</td><td>Y</td><td>Y</td><td>⭐⭐⭐⭐</td><td>⭐⭐⭐⭐⭐</td></tr><tr><td>Outline</td><td>Y</td><td>Y</td><td>Y</td><td>Y</td><td>⭐⭐⭐⭐</td><td>⭐⭐</td></tr></tbody></table><p>I tested each self-hosted tool at a basic level to see if it met my needs. Two must-have features for me are collaboration and a lightweight browser-based interface. Lastly, I&rsquo;m looking at how easy it is to self-host and how truly they are self-hosted. Here&rsquo;s my shortlist:</p><ul><li>Affine – I ruled this out because it doesn&rsquo;t feel truly open source or self-hosted. There are ongoing GitHub discussions about this point.</li><li>Docmost – It seems promising, but the community is still at an early stage.</li><li>Outline – I ended up selecting Outline because it provides all the features I need and has a strong community. However, hosting it wasn&rsquo;t straightforward—it enforces a specific authentication process, which took me a couple of days to figure out.</li></ul><p>I also tried Appflowy and AnyType, both of which came close to meeting my requirements. However, Appflowy imposes many limitations on self-hosting, and AnyType is resource-heavy, requiring MongoDB, Minio, and multiple sync nodes. By contrast, Outline can simply use a local filesystem, which has worked very well for me so far.</p><h1 id=selfhost-outline--authenlia>Selfhost Outline & Authenlia<a hidden class=anchor aria-hidden=true href=#selfhost-outline--authenlia>#</a></h1><p>I chooses to use <code>Authenlia</code> as the authentication service for <code>Outline</code> as I need a lightweight solution given it will only be accessed by my family and again I can use the local filesystem to power <code>Authenlia</code>.</p><h2 id=authenlia>Authenlia<a hidden class=anchor aria-hidden=true href=#authenlia>#</a></h2><p>To host Authenlia, we need create the <code>configuration.yml</code>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>log</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>level</span><span class=p>:</span><span class=w> </span><span class=l>info</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>server</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>address</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;tcp://:9091/&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>session</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>authelia_session</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>same_site</span><span class=p>:</span><span class=w> </span><span class=l>lax</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>secret</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;redacted&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>expiration</span><span class=p>:</span><span class=w> </span><span class=m>3600</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>inactivity</span><span class=p>:</span><span class=w> </span><span class=m>300</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>cookies</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>domain</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;your.domain&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>authelia_url</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;https://your.auth.domain&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>default_redirection_url</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;https://www.your.outline.domain&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;authelia_session&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>same_site</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;lax&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>inactivity</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;5m&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>expiration</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;1h&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>remember_me</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;1d&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>access_control</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_policy</span><span class=p>:</span><span class=w> </span><span class=l>one_factor</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>rules</span><span class=p>:</span><span class=w> </span><span class=p>[]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>storage</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>encryption_key</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;redacted&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>/config/db.sqlite3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>identity_providers</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>oidc</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>hmac_secret</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;redacted&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>jwks</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>key</span><span class=p>:</span><span class=w> </span>{{<span class=w> </span><span class=l>secret &#34;/config/private.pem&#34; | mindent 10 &#34;|&#34; | msquote }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>clients</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>id</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;unique client id&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;Outline Wiki&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>secret</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;redacted&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>public</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>authorization_policy</span><span class=p>:</span><span class=w> </span><span class=l>one_factor</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>redirect_uris</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span>- <span class=s2>&#34;https://your.outline.domain/auth/oidc.callback&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>scopes</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span>- <span class=s2>&#34;openid&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span>- <span class=s2>&#34;offline_access&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span>- <span class=s2>&#34;profile&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span>- <span class=s2>&#34;email&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>userinfo_signed_response_alg</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;none&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>token_endpoint_auth_method</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;client_secret_post&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>notifier</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>disable_startup_check</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>filesystem</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>filename</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;/config/notification.txt&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>authentication_backend</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>file</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>/config/user_database.yml</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>identity_validation</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>reset_password</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>jwt_secret</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;redacted&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>jwt_lifespan</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;5 minutes&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>jwt_algorithm</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;HS256&#34;</span><span class=w>
</span></span></span></code></pre></div><p>You could run <code>openssl rand -hex 32</code> to generate the key for the redacted place above.</p><p>You also need create a hash of the password using <code>docker run --rm -it authelia/authelia:latest authelia crypto hash generate argon2</code> which prompt for your password. After you have the hash, you could go ahead creating the <code>user_database.yml</code> file storing the login data:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>users</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>admin</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>displayname</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;Foo Poo&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>password</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;the hash generated from above command&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>email</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;email&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>groups</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>admins</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>dev</span><span class=w>
</span></span></span></code></pre></div><p>When you login, you need use <code>admin</code> as the user name and the password you typed in to generate the hash. It is not the password and email you used under <code>admin</code> stanza above. And you don&rsquo;t have to create many users since <code>Outline</code> doesn&rsquo;t support multiple workspaces in selfhosted version (<a href=https://github.com/outline/outline/issues/6837>discussions</a>).</p><p>The last one is the jwks key we could generate with the command:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker run --rm -v <span class=s2>&#34;</span><span class=k>$(</span><span class=nb>pwd</span><span class=k>)</span><span class=s2>&#34;</span>:/output authelia/authelia:latest authelia crypto certificate rsa generate --directory /output
</span></span></code></pre></div><p>which will generate <code>private.pem</code> and <code>public.crt</code> at present directory and we only need <code>private.pem</code> here.</p><p>After we have all the files ready, we could create the <code>docker-compose.yaml</code>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-docker data-lang=docker><span class=line><span class=cl>services:<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>  authelia:<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>    image: authelia/authelia:4.38<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>    container_name: authelia<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>    restart: unless-stopped<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>    environment:<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>      - <span class=nv>TZ</span><span class=o>=</span>UTC<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>      - <span class=nv>X_AUTHELIA_CONFIG_FILTERS</span><span class=o>=</span>template<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>    ports:<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>      - <span class=s2>&#34;9095:9091&#34;</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>    volumes:<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>      <span class=c1># this mounted folder should have all three files you just created: </span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>      <span class=c1># configuration.yml, user_database.yaml and private.pem</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>      - <span class=s1>&#39;/your/folder/authelia/config:/config&#39;</span><span class=err>
</span></span></span></code></pre></div><h2 id=outline>Outline<a hidden class=anchor aria-hidden=true href=#outline>#</a></h2><p>This is my <code>docker-compose.yaml</code> hosting <code>Outline</code> on my NAS:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-docker data-lang=docker><span class=line><span class=cl>version: <span class=s2>&#34;3.7&#34;</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>services:<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>  outline:<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>    image: outlinewiki/outline:0.81.1<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>    <span class=c1># this is to give Outline container the permission to access the mounted folder, which could</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>    <span class=c1># be different for you. You could use `ls -nd` to check the UID and GID for a particular folder</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>    user: <span class=s2>&#34;1026:100&#34;</span> <span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>    ports:<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>      - <span class=s2>&#34;3002:3000&#34;</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>    depends_on:<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>      - postgres<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>      - redis<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>    volumes:<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>      - /yours/outline/storage:/var/lib/outline/data<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>    networks:<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>      - npm_network<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>    environment:<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>      NODE_ENV: production<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>      SECRET_KEY: <span class=s2>&#34;key generated using openssl rand -hex 32&#34;</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>      UTILS_SECRET: <span class=s2>&#34;key generated using openssl rand -hex 32&#34;</span> <span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>      <span class=c1># HTTP</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>      <span class=c1># URL must be the same one used in your authenlia configuration.yml</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>      URL: https://your.outline.domain<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>      PORT: <span class=m>3000</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>      FORCE_HTTPS: true<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>      WEB_CONCURRENCY: <span class=m>1</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>      <span class=c1># Rate limiter</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>      RATE_LIMITER_ENABLED: true<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>      RATE_LIMITER_DURATION_WINDOW: <span class=m>60</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>      RATE_LIMITER_REQUESTS: <span class=m>600</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>      <span class=c1># Authentication</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>      OIDC_CLIENT_ID: <span class=s2>&#34;must be the same as the one used in authenlia&#34;</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>      OIDC_CLIENT_SECRET: <span class=s2>&#34;must be the same as the one used in authenlia&#34;</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>      <span class=c1># The OIDC config can be found from https://your.auth.domain/.well-known/openid-configuration</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>      OIDC_AUTH_URI: https://your.auth.domain/api/oidc/authorization<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>      OIDC_TOKEN_URI: https://your.auth.domain/api/oidc/token<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>      OIDC_USERINFO_URI: https://your.auth.domain/api/oidc/userinfo<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>      OIDC_LOGOUT_URI: https://your.outline.domain<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>      OIDC_USERNAME_CLAIM: username<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>      OIDC_SCOPES: openid offline_access profile email<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>      <span class=c1># Storage</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>      FILE_STORAGE: local<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>      FILE_STORAGE_LOCAL_ROOT_DIR: /var/lib/outline/data<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>      FILE_STORAGE_UPLOAD_MAX_SIZE: <span class=m>1086214400</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>      <span class=c1># Database</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>      DATABASE_URL: postgres://user:pass@postgres:5432/outline<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>      PGSSLMODE: disable<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>      <span class=c1># Redis</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>      REDIS_URL: redis://redis:6379<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>      <span class=c1># Other</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>      LOG_LEVEL: info<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>      ENABLE_UPDATES: true<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>      DEFAULT_LANGUAGE: en_US<span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>  redis:<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>    image: redis:7.4.1<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>    expose:<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>      - <span class=m>6379</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>    networks:<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>      - npm_network<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>    command: redis-server<span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>  postgres:<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>    image: postgres:12.22<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>    expose:<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>      - <span class=m>5432</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>    networks:<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>      - npm_network<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>    environment:<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>      POSTGRES_USER: user<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>      POSTGRES_PASSWORD: pass<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>      POSTGRES_DB: outline<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>    volumes:<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>      - /volume1/docker/outline/postgres:/var/lib/postgresql/data<span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>networks:<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>  <span class=c1># we need use bridge so Nginx could forward the traffic</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>  npm_network:<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>    driver: bridge<span class=err>
</span></span></span></code></pre></div><p>This should get your <code>Outline</code> up and running and the last is to configure the proxy host at the NPM (aka. Nginx Proxy Manager) so we could access it from internet.</p><h2 id=nginx-proxy-manager>Nginx Proxy Manager<a hidden class=anchor aria-hidden=true href=#nginx-proxy-manager>#</a></h2><p>You can easily create an SSL certificate with <code>Let's Encrypt</code> through Nginx Proxy Manager (NPM). When generating the certificate, make sure it includes both domains used to reach Outline and Authenlia (for example, <code>your.outline.domain</code> and <code>your.auth.domain</code>). You might also want to create a certificate for your top-level domain if needed. After that, simply create proxy hosts for each domain, ensuring they point to the correct internal addresses.</p><p>Use http scheme for the destinations otherwise you prob will see 502 error. At least I have to use http scheme here and it will be secure since we enforce HTTPS on server side and use SSL cert for the connection.</p><p>Regarding the destination address, I tried to use <code>service:port</code> since they are all on bridge network but unfortunately it doesn&rsquo;t work for me. I have to use the <code>nas-ip:host-port</code> to access it. Finally, remember to forward ports <strong>80</strong> (HTTP) and <strong>443</strong> (HTTPS) from your router to NPM. This ensures all inbound web traffic is properly routed through Nginx Proxy Manager, allowing it to forward the traffic from internet.</p><h1 id=conclusion>Conclusion<a hidden class=anchor aria-hidden=true href=#conclusion>#</a></h1><p>I recently migrated all my notes from <code>Notion</code> and <code>Obsidian</code> to <code>Outline</code> and couldn&rsquo;t be happier so far. This document is the first I&rsquo;ve created post-migration, and the experience has been smooth—especially <code>Outline</code>&rsquo;s robust Markdown support for math equations. The one drawback I&rsquo;ve noticed is the lack of a birds-eye view, which makes it cumbersome to manage numerous documents solely from the sidebar. Fortunately, there&rsquo;s ongoing discussion about adding database support, which could help create a customized homepage and improve overall organization.</p></div><footer class=post-footer><ul class=post-tags><li><a href=ihelio.today/tags/nas/>NAS</a></li><li><a href=ihelio.today/tags/selfhosted/>Selfhosted</a></li><li><a href=ihelio.today/tags/wiki/>Wiki</a></li><li><a href=ihelio.today/tags/docker/>Docker</a></li></ul><nav class=paginav><a class=prev href=ihelio.today/posts/2025/remote_accessing_nas_using_tailscale/><span class=title>« Prev</span><br><span>Remote Accessing NAS using Tailscale</span>
</a><a class=next href=ihelio.today/posts/2024/building-a-single-page-application-spa-with-quarkus-and-quinoa/><span class=title>Next »</span><br><span>Building a Single Page Application (SPA) with Quarkus and Quinoa</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Life Wiki Selfhosted on Your NAS on x" href="https://x.com/intent/tweet/?text=Life%20Wiki%20Selfhosted%20on%20Your%20NAS&amp;url=ihelio.today%2fposts%2f2025%2flife-wiki-selfhosted-on-your-nas%2f&amp;hashtags=NAS%2cSelfhosted%2cWiki%2cDocker"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Life Wiki Selfhosted on Your NAS on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=ihelio.today%2fposts%2f2025%2flife-wiki-selfhosted-on-your-nas%2f&amp;title=Life%20Wiki%20Selfhosted%20on%20Your%20NAS&amp;summary=Life%20Wiki%20Selfhosted%20on%20Your%20NAS&amp;source=ihelio.today%2fposts%2f2025%2flife-wiki-selfhosted-on-your-nas%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Life Wiki Selfhosted on Your NAS on reddit" href="https://reddit.com/submit?url=ihelio.today%2fposts%2f2025%2flife-wiki-selfhosted-on-your-nas%2f&title=Life%20Wiki%20Selfhosted%20on%20Your%20NAS"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Life Wiki Selfhosted on Your NAS on facebook" href="https://facebook.com/sharer/sharer.php?u=ihelio.today%2fposts%2f2025%2flife-wiki-selfhosted-on-your-nas%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Life Wiki Selfhosted on Your NAS on whatsapp" href="https://api.whatsapp.com/send?text=Life%20Wiki%20Selfhosted%20on%20Your%20NAS%20-%20ihelio.today%2fposts%2f2025%2flife-wiki-selfhosted-on-your-nas%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Life Wiki Selfhosted on Your NAS on telegram" href="https://telegram.me/share/url?text=Life%20Wiki%20Selfhosted%20on%20Your%20NAS&amp;url=ihelio.today%2fposts%2f2025%2flife-wiki-selfhosted-on-your-nas%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Life Wiki Selfhosted on Your NAS on ycombinator" href="https://news.ycombinator.com/submitlink?t=Life%20Wiki%20Selfhosted%20on%20Your%20NAS&u=ihelio.today%2fposts%2f2025%2flife-wiki-selfhosted-on-your-nas%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//ihelio-today.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></article></main><footer class=footer><span>&copy; 2025 <a href=ihelio.today/>iHelio</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>